<ng-form name="categoryAccessControlForm">
<vertical-section-layout [allowEdit]="allowEdit && !isNew" section-title='{{"views.category-access-control.AC" | translate}}' (on-save-edit)="onSave" (on-edit)="onEdit" keepEditableAfterSave="true" [editable]="isEditable" [isValid]="isValid">
  <readonly-section>
    <div>{{"views.category-access-control.CR" | translate}}</div>
    <entity-access-control entity="model" entity-type="category" the-form="categoryAccessControlForm" read-only="true"></entity-access-control>
    <div>{{"views.category-access-control.RIbF" | translate}}</div>
    <entity-access-control entity="model" entity-type="category-feed" allow-owner-change="false" role-memberships-property="feedRoleMemberships" the-form="categoryAccessControlForm" read-only="true"></entity-access-control>
    <div>Index Control</div>
    <div layout="row" layout-padding>
      <div flex="40" style="align-self:center;">
        <span>Index category metadata</span>
        <div class="hint">
          Index metadata for the category in a search engine.
        </div>
      </div>
      <div flex class="">
        <mat-checkbox
            [(ngModel)]="model.allowIndexing"
            aria-label="Indexing Allowed"
            ng-true-value=true
            ng-false-value=false
            [disabled]="true"
            class="md-primary md-align-top-left" flex>
        </mat-checkbox>
      </div>
    </div>

  </readonly-section>
  <editable-section>
    <div>{{"views.category-access-control.CR2" | translate}}</div>
    <entity-access-control entity="editModel" entity-type="category" the-form="categoryAccessControlForm"></entity-access-control>
    <div>{{"views.category-access-control.RIbF2" | translate}}</div>
    <entity-access-control entity="editModel" entity-type="category-feed" allow-owner-change="false" role-memberships-property="feedRoleMemberships" the-form="categoryAccessControlForm"></entity-access-control>
    <div>Index Control</div>
    <div layout="row" layout-padding>
      <div flex="40" style="align-self:center;">
        <span>Index category metadata</span>
        <div class="hint">
          Index metadata for the category in a search engine. (Unchecking will disable indexing of category's metadata, and also delete the category's existing metadata from index.)
        </div>
      </div>
      <div flex class="">
        <mat-checkbox
            [(ngModel)]="editModel.allowIndexing"
            aria-label="Indexing Allowed"
            ng-true-value=true
            ng-false-value=false
            [disabled]="false"
            class="md-primary md-align-top-left" flex>
        </mat-checkbox>
      </div>
    </div>
  </editable-section>
</vertical-section-layout>
</ng-form>
