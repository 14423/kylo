<mat-card>
        <mat-card-content>

                <mat-horizontal-stepper [linear]="true"  (selectionChange)="onStepSelectionChanged($event)" >
                        <ng-container *ngFor="let tab of tabs">
                                <mat-step *ngIf="tab.sref == '.browse'">
                                        <form  fxFlex="1 1 auto" fxLayout="column">
                                                <ng-template matStepLabel>{{tab.label}}</ng-template>
                                                <remote-files *ngIf="selectedTab && selectedTab.sref =='.browse'" [datasource]="datasource" [useRouterStates]="false" [params]="params"     ></remote-files>
                                        </form>
                                </mat-step>

                                <mat-step *ngIf="tab.sref =='.preview'">
                                        <form  fxFlex="1 1 auto" fxLayout="column">
                                                <ng-template matStepLabel>{{tab.label}}</ng-template>
                                                <preview-schema *ngIf="selectedTab && selectedTab.sref =='.preview'" [paths]="paths" [datasource]="datasource" [editable]="!feed.readonly" [autoCollect]="true" addToCollectionButtonName="Select as source"  removeFromCollectionButtonName="Remove source" (customDatasetAddition)="onDatasetAdd($event)" (customDatasetRemoval)="onDatasetRemoval($event)"></preview-schema>
                                        </form>
                                </mat-step>


                        </ng-container>
                </mat-horizontal-stepper>
        </mat-card-content>
</mat-card>


