<ng-container *tdLoading="'CatalogPreviewDatasetComponent.LOADER'; color:'accent'; mode:'indeterminate'; strategy:'overlay'; type:'circle'">
  <mat-toolbar *ngIf="displayInCard">
    <mat-toolbar-row fxLayout="row" fxLayoutAlign="start center">
      <div fxLayout="row" fxLayoutAlign="center center" class="cursor-pointer push-right" (click)="backToDatasource()">
        <mat-icon class="push-right">arrow_back</mat-icon>
        {{datasetName}}</div>
    </mat-toolbar-row>
  </mat-toolbar>

  <div *ngIf="previewsReady">

    <div *ngIf="displayInCard">
      <div fxLayout="row" class="cards">
        <div fxLayout="column" fxFlex="70">
          <mat-card>
            <mat-card-content>
              <datasets-preview-container #datasetPreviewContainer
                                          [renderBackButton]="false"
                                          [autoSelectSingleDataSet]="true"
                                          [formGroup]="formGroup"
                                          [previews]="previews"
                                          (previewDatasetInvalid)="onPreviewInvalid($event)"
                                          (previewDatasetValid)="onPreviewValid($event)"
                                          (previewSelectionChange)="onPreviewSelected($event)"></datasets-preview-container>

            </mat-card-content>
          </mat-card>
          <dataset-sample-content [dataset]="dataset"></dataset-sample-content>
        </div>

        <div fxLayout="column" fxFlex="30">
          <dataset-info [dataset]="dataset"></dataset-info>
          <dataset-usage [dataset]="dataset"></dataset-usage>
          <dataset-column-profile [dataset]="dataset"></dataset-column-profile>
        </div>
      </div>

    </div>

    <ng-container *ngIf="!displayInCard">
      <datasets-preview-container #datasetPreviewContainer
                                  [renderBackButton]="false"
                                  [autoSelectSingleDataSet]="autoSelectSingleDataSet"
                                  [formGroup]="formGroup"
                                  [previews]="previews"
                                  (previewDatasetInvalid)="onPreviewInvalid($event)"
                                  (previewDatasetValid)="onPreviewValid($event)"
                                  (previewSelectionChange)="onPreviewSelected($event)"></datasets-preview-container>
    </ng-container>
  </div>

  <div *ngIf="loading" class="loading-container">

  </div>

</ng-container>